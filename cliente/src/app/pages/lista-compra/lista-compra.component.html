<div class="page-wrapper">
  <app-loged-header [fotoPerfilUrl]="fotoPerfilUrl"></app-loged-header>

  <main>
    <div class="container mt-4">
      <h1 class="text-center mb-2">Lista de Compras</h1>
      <p class="text-center text-muted mb-5">
        Ingredientes para las recetas seleccionadas
      </p>

      <div class="shopping-list">
        <div *ngIf="cargandoLista" class="text-center my-4">
          <span class="spinner-border"></span> Cargando ingredientes...
        </div>
        <div
          *ngIf="!cargandoLista && ingredientesLista.length === 0"
          class="text-center text-muted"
        >
          No hay ingredientes para mostrar.
        </div>
        <div
          *ngFor="let item of ingredientesLista; let i = index"
          class="shopping-item d-flex align-items-center justify-content-between"
        >
          <div class="form-check d-flex align-items-center">
            <input class="form-check-input" type="checkbox" [id]="'item' + i" />
            <label class="form-check-label ms-2" [for]="'item' + i">
              {{ item.nombre }}
            </label>
          </div>
          <div class="d-flex align-items-center">
            <span class="quantity me-2"
              >{{ item.cantidad }} {{ item.unidad }}</span
            >
            <button
              (click)="eliminarIngredienteManual(item)"
              class="btn btn-danger btn-sm ms-1 p-0 d-flex align-items-center justify-content-center eliminar-circular"
              title="Eliminar"
            >
              <i class="bi bi-x"></i>
            </button>
          </div>
        </div>
      </div>

      <button class="btn mt-4" (click)="abrirAgregarIngrediente()">
        <i class="bi bi-plus-circle me-2"></i>
        AÃ±adir Ingrediente
      </button>
    </div>
  </main>

  <app-footer></app-footer>
</div>
